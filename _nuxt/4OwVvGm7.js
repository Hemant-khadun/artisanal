import{c as x}from"./BUdFNuJC.js";import{e as $,r as y,E as z,f as M,n as C,p as k,u as _}from"./B5_BuWJT.js";const F=$({__name:"FallingStarsBg",props:{color:{default:"#FFF"},count:{default:200},class:{}},setup(v){const d=v,r=y(null);let s=0,h=[],t=null;z(()=>{const e=r.value;if(e){window.addEventListener("resize",f),f(),s=e.width/2,h=[];for(let n=0;n<d.count;n++)h.push({x:(Math.random()-.5)*2*e.width,y:(Math.random()-.5)*2*e.height,z:Math.random()*e.width,speed:Math.random()*5+2});u()}});function b(){let e=d.color.replace(/^#/,"");e.length===3&&(e=e.split("").map(a=>a+a).join(""));const n=parseInt(e,16),i=n>>16&255,l=n>>8&255,c=n&255;return{r:i,g:l,b:c}}function w(e){const n=r.value;if(!n||(t=n.getContext("2d"),!t))return;const i=s/(s+e.z),l=n.width/2+e.x*i,c=n.height/2+e.y*i,a=Math.max(i*3,.5),g=s/(s+e.z+e.speed*15),p=n.width/2+e.x*g,m=n.height/2+e.y*g,o=b();t.save(),t.strokeStyle=`rgba(${o.r}, ${o.g}, ${o.b}, 0.2)`,t.lineWidth=a*2.5,t.shadowBlur=35,t.shadowColor=`rgba(${o.r}, ${o.g}, ${o.b}, 0.8)`,t.beginPath(),t.moveTo(l,c),t.lineTo(p,m),t.stroke(),t.restore(),t.strokeStyle=`rgba(${o.r}, ${o.g}, ${o.b}, 0.6)`,t.lineWidth=a,t.beginPath(),t.moveTo(l,c),t.lineTo(p,m),t.stroke(),t.fillStyle=`rgba(${o.r}, ${o.g}, ${o.b}, 1)`,t.beginPath(),t.arc(l,c,a/4,0,Math.PI*2),t.fill()}function u(){const e=r.value;e&&(t=e.getContext("2d"),t&&(t.clearRect(0,0,e.width,e.height),h.forEach(n=>{w(n),n.z-=n.speed,n.z<=0&&(n.z=e.width,n.x=(Math.random()-.5)*2*e.width,n.y=(Math.random()-.5)*2*e.height)}),requestAnimationFrame(u)))}function f(){const e=r.value;e&&(e.width=e.clientWidth,e.height=e.clientHeight)}return(e,n)=>(M(),C("canvas",{ref_key:"starsCanvas",ref:r,class:k(_(x)("absolute inset-0 w-full h-full",e.$props.class))},null,2))}});export{F as _};
