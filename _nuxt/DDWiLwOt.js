import{e as M,r as v,B as z,D as _,q as $,E as C,o as S,f as B,n as E,l as b,p as q}from"./Bv-pOpPk.js";const P=M({__name:"SnowfallBg",props:{color:{default:"#FFF"},quantity:{default:100},speed:{default:1},maxRadius:{default:3},minRadius:{default:1},class:{default:""}},setup(m){const o=m,s=v(null),c=v(null),t=v(null),d=v([]),a=z({w:0,h:0}),{pixelRatio:r}=_(),p=$(()=>{const e=o.color.replace(/^#/,"").padStart(6,"0"),n=parseInt(e,16),l=n>>16&255,i=n>>8&255,u=n&255;return`${l} ${i} ${u}`});C(()=>{s.value&&(t.value=s.value.getContext("2d")),f(),h(),window.addEventListener("resize",f)}),S(()=>{window.removeEventListener("resize",f)});function f(){x(),y()}function x(){c.value&&s.value&&t.value&&(d.value.length=0,a.w=c.value.offsetWidth,a.h=c.value.offsetHeight,s.value.width=a.w*r.value,s.value.height=a.h*r.value,s.value.style.width=`${a.w}px`,s.value.style.height=`${a.h}px`,t.value.scale(r.value,r.value))}function y(){for(let e=0;e<o.quantity;e++){const n=w();d.value.push(n)}}function w(){const e=Math.random()*a.w,n=Math.random()*a.h,l=Math.random()*(o.maxRadius-o.minRadius)+o.minRadius,i=Math.random()*.5+.5,u=(Math.random()-.5)*.5,g=Math.random()*.25+o.speed;return{x:e,y:n,size:l,alpha:i,dx:u,dy:g}}function R(e){if(t.value){const{x:n,y:l,size:i,alpha:u}=e;t.value.beginPath(),t.value.arc(n,l,i,0,Math.PI*2),t.value.fillStyle=`rgba(${p.value.split(" ").join(", ")}, ${u})`,t.value.fill()}}function h(){t.value&&t.value.clearRect(0,0,a.w,a.h),d.value.forEach(e=>{e.x+=e.dx,e.y+=e.dy,e.y>a.h&&(e.y=-e.size,e.x=Math.random()*a.w),R(e)}),requestAnimationFrame(h)}return(e,n)=>(B(),E("div",{ref_key:"canvasContainerRef",ref:c,class:q(e.$props.class),"aria-hidden":"true"},[b("canvas",{ref_key:"canvasRef",ref:s},null,512)],2))}});export{P as _};
